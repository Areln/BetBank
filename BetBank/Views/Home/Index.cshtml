@{
    ViewData["Title"] = "Home Page";
}


@model BetBank.Models.ViewModels.HomePageModel

@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager


<h1 style="text-align: center;">Bet Bank</h1>

<div class="tcontainer">
    <div class="ticker-wrap">
        <div class="ticker-move">
            @foreach (TickerGames item in Model.TickerGames)
            {
            <div class="ticker-item">
                @item.TimeOfEvent<br />
                <a href="../Bet/CreateBet?_eventId=@item.EventId&_BetType=MoneyLine&_eventTime=@item.TimeOfEvent">@item.HomeTeam @item.HomeOdds</a><br />
                <div style="text-align:center">at</div>
                <a href="../Bet/CreateBet?_eventId=@item.EventId&_BetType=MoneyLine&_eventTime=@item.TimeOfEvent">@item.AwayTeam @item.AwayOdds</a><br />

            </div>
            }
        </div>
    </div>
</div>

@if (SignInManager.IsSignedIn(User))
{
    <audio autoplay><source src="../music/ka ching sound effect.mp3" type="audio/mpeg" /></audio>

    <div class="topnav" id="myTopnav">
        <a href="../Home/Index">Home</a>
        <a href="../Event/NFLIndex">NFL</a>
        <a href="../Event/NBAIndex">NBA</a>
        <a href="../Event/ESportsIndex">E-Sports</a>
    </div>

    <div class="graphImage">
        <iframe width="700" height="450" src="https://app.powerbi.com/reportEmbed?reportId=b9f212ed-b1ca-4a5a-83ae-89182d720d08&autoAuth=true&ctid=63fc817a-d494-4c82-9cf4-c3362b4cd615&config=eyJjbHVzdGVyVXJsIjoiaHR0cHM6Ly93YWJpLXVzLW5vcnRoLWNlbnRyYWwtcmVkaXJlY3QuYW5hbHlzaXMud2luZG93cy5uZXQvIn0%3D" frameborder="0" allowFullScreen="true"></iframe>
    </div>

    @*@if (SignInManager.IsSignedIn(User))
        {*@
    <div class="userStats">
        <h3>User Stats</h3>
        <table class="table">
            <tr>
                <th>Bet History</th>
                <th>Total W/L</th>
                <th>Total ROI</th>
            </tr>
            <tr>
                <td>Today Results</td>
                <td>@Model.UserStats.TodayWLRecord</td>
                <td>@Model.UserStats.ReturnOnInvestment</td>
            </tr>
            <tr>
                <td>Last 7 Days</td>
                <td>@Model.UserStats.YesterdayWLRecord</td>
                <td>@Model.UserStats.ReturnOnInvestment</td>
            </tr>
            <tr>
                <td>All Time</td>
                <td>@Model.UserStats.AllTimeWLRecord</td>
                <td>@Model.UserStats.ReturnOnInvestment</td>
            </tr>
        </table>

        <p style="text-align:center;">Leagues and game type user<br /> bets W/L records</p>

        <a style="text-align:center;" href="../Bet/ViewOpenBets">View Bet History</a>
    </div>

    <div class="betLinkDiv">
        <ul>
            <li><a href="../Bet/ViewOpenBets">Track Bets</a></li>
            <li><a href="..Bet/AddBet">Added to BB</a></li>
            <li><a href="#">Withdrew from BB</a></li>
        </ul>
    </div>
    //}

}

else
{
    <div class="sitePreview">
        <img src="../img/sportsBetting.jfif" alt="Alternate Text" width="1125" />
    </div>
}