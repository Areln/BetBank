@using System.Security.Claims;
@{
    ViewData["Title"] = "Balance Transactions";
}
@model TransactionModel
@using BetBank.Models.ViewModels
<h1>Place a Bet!</h1>

<form asp-action="AddTransaction" asp-controller="Transaction">
    <input type="number" step="0.01" name="AmountOfTransaction" value="" /><br />
    <label>Deposit</label> <br />
    <input type="radio" name="moneyInOut" value="True" /> <br />
    <label>Withdrawl</label> <br />
    <input type="radio" name="moneyInOut" checked="checked" value="False" /> <br />

    <input type="hidden" name="UserMadeTransAction" value="True" />
    <input type="hidden" name="UserId" value="@User.FindFirst(ClaimTypes.NameIdentifier).Value" />
    <input type="hidden" name="TimeOfTransaction" value="@DateTime.Now" />

    <input type="submit" name="submit" value="Submit" />
</form>

<table>
    <tr>
        <th>Bet Bank Balance</th>
    </tr>
    <tr>
        <td> @Model.BetBankBalance.ToString("C2");</td>
    </tr>
</table>

<table>
    <tr>
        <th>Transaction Id</th>
        <th>Time of Transaction</th>
        <th> = </th>
        <th>Transaction Amount</th>

    </tr>
</table>

<table>
@{
    int counter = 1;
}
@foreach (DepositsAndWithdrawls transaction in Model.Transactions)
{
    <tr>
        <td>@counter</td>
        <td>@transaction.TimeOfTransaction</td>
        <td> = </td>
        <td>@transaction.AmountOfTransaction.ToString("C2")</td>
    </tr>
    counter++;
}
</table>
